<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout-Admin">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet"  th:href="@{/static/output.css}" />
    <link rel="stylesheet" th:href="@{/static/styles.css}" />
    <title>Layout</title>


</head>
<body class="leading-default m-0 bg-gray-50 text-left font-sans text-base font-normal text-slate-500 dark:bg-slate-950 dark:text-white">
<div class="flex">
    <!-- Sidebar -->
    <aside class="mt-4 h-screen w-72 p-4 shadow-xl">
        <a href="/hotels/homeAdmin" class="flex items-center gap-3 border-b-2 pb-4">
            <img src="/static/hinhanh/logo.png" alt="" class="h-10 w-10" />
            <p class="mt-1 text-3xl font-black text-[#219aa7]">DTN ADMIN</p>
        </a>
        <ul class="mt-6">
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/bookings/listBookingOfAdmin" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/bell.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Danh sách đặt phòng</span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/rooms/list" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/room.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Danh sách phòng</span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/bookings/listBookingCheckedOfAdmin" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/check.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Check In</span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/payments/showAdminPaymentList" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/bill.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Danh sách hóa đơn</span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/extraCharges/showAdminExtraChargesList" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/extra.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Danh sách phụ phí</span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/revenue-statistics" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/chart.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Thống kê </span>
                </a>
            </li>
            <li class="group rounded px-4 py-2 hover:bg-gray-100">
                <a href="/employeeAccount" class="flex w-full items-center gap-4 py-2">
              <span
                      class="group-hover:bg-amber-400  flex h-10 w-10 items-center justify-center rounded-md bg-white shadow-xl"
              >
                <img src="/static/hinhanh/user.svg" alt="" class="h-4 w-4" />
              </span>
                    <span class="font-semibold">Tài khoản nhân viên</span>
                </a>
            </li>
        </ul>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-4">
        <!-- Navbar -->
        <nav class="flex items-center justify-end px-10 py-4">
             <div class="flex items-center gap-8 text-[1rem] font-semibold" sec:authorize="!isAuthenticated()">
              <a href="/login">Login</a>
              <a
                href="/register"
                class="rounded-full bg-[#FF5B26] px-6 py-2 text-white hover:opacity-90"
                >Sign up</a
              >
            </div>
            <!-- User -->
            <div class="flex gap-14" sec:authorize="isAuthenticated()">
                <div class="flex items-center gap-2">
                    <div
                            class="flex h-14 w-14 items-center justify-center rounded-lg bg-white p-2 shadow-xl"
                    >
                        <img src="/static/hinhanh/user.svg" alt="" class="h-8 w-8" />
                    </div>
                    <div>
                        <span class="mt-1 text-base font-medium">Xin chào, </span>
                        <span class="block text-base font-medium" sec:authentication="name"> </span>
                    </div>
                </div>
               <form th:action="@{/logout}" method="post">
                   <button
                            type="submit"
                           class="flex h-14 w-10 items-center justify-center rounded-lg bg-white p-2 shadow-xl"
                   >
                       <img src="/static/hinhanh/logout.svg" alt="" class="h-6 w-6" />
                   </button>
               </form>
            </div>
        </nav>
        <section layout:fragment="content">

        </section>
    </main>
</div>
<!--<header>-->
<!--    <nav class="navbar navbar-expand-lg navbar-light bg-primary">-->
<!--        <div class="container-fluid">-->
<!--            <a class="navbar-brand text-white" href="/hotels/homeAdmin">ADMIN</a>-->
<!--            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"-->
<!--                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"-->
<!--                    aria-expanded="false" aria-label="Toggle navigation">-->
<!--                <span class="navbar-toggler-icon"></span>-->
<!--            </button>-->
<!--            <div class="collapse navbar-collapse" id="navbarSupportedContent">-->
<!--                <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>-->
<!--                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">-->
<!--                    <li class="nav-item d-flex align-items-center" sec:authorize="isAuthenticated()">-->
<!--                        <span class="navbar-text text-white">-->
<!--                            Xin chào, <span sec:authentication="name" style="margin-right: 20px;"></span>-->
<!--                        </span>-->
<!--                    </li>-->
<!--                    <li class="nav-item" sec:authorize="isAuthenticated()">-->
<!--                        <form th:action="@{/logout}" method="post">-->
<!--                            <button class="btn btn-outline-light" type="submit">Logout</button>-->
<!--                        </form>-->
<!--                    </li>-->
<!--                    <li class="nav-item" sec:authorize="!isAuthenticated()">-->
<!--                        <a class="btn btn-outline-light" href="/login">Login</a>-->
<!--                    </li>-->
<!--                </ul>-->
<!--            </div>-->
<!--        </div>-->
<!--    </nav>-->
<!--</header>-->
<!--<div class="container-fluid">-->
<!--    <div class="row">-->
<!--        <nav class="col-md-2 sidebar">-->
<!--            <div class="sidebar-sticky">-->
<!--                <ul class="nav flex-column">-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/bookings/listBookingOfAdmin">List Booking</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/rooms/list">List Room</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/bookings/listBookingCheckedOfAdmin">List Checkin</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/payments/showAdminPaymentList">List Payment</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/extraCharges/showAdminExtraChargesList">List Extra</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/revenue-statistics">revenue statistics</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item" sec:authorize="hasAuthority('ADMIN')">-->
<!--                        <a class="nav-link" href="/employeeAccount">Account Employee</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="/informationUser">Information User</a>-->
<!--                    </li>-->

<!--                </ul>-->
<!--            </div>-->
<!--        </nav>-->
<!--        <main role="main" class="col-md-10 px-4">-->
<!--            <section layout:fragment="content">-->
<!--                &lt;!&ndash; Nội dung cụ thể của từng trang sẽ được đặt tại đây &ndash;&gt;-->

<!--            </section>-->
<!--        </main>-->
<!--    </div>-->
<!--</div>-->

<script th:inline="javascript">
    /*<![CDATA[*/
    var totalPayments = /*[[${totalPayments}]]*/ 0;
    var totalExtraCharges = /*[[${totalExtraCharges}]]*/ 0;

    // Data for bar chart
    var barChartData = {
        labels: ['Total Payments', 'Total Extra Charges'],
        datasets: [{
            label: 'Revenue',
            data: [totalPayments, totalExtraCharges],
            backgroundColor: [
                'rgba(255, 99, 132, 0.5)', // Red for Payments
                'rgba(54, 162, 235, 0.5)' // Blue for Extra Charges
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)'
            ],
            borderWidth: 1
        }]
    };

    // Data for pie chart (calculated percentages)
    var total = totalPayments + totalExtraCharges;
    var paymentPercentage = (totalPayments / total) * 100;
    var extraChargePercentage = (totalExtraCharges / total) * 100;

    var pieChartData = {
        labels: ['Total Payments', 'Total Extra Charges'],
        datasets: [{
            label: 'Revenue Distribution',
            data: [paymentPercentage, extraChargePercentage],
            backgroundColor: [
                'rgba(255, 99, 132, 0.5)', // Red for Payments
                'rgba(54, 162, 235, 0.5)' // Blue for Extra Charges
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)'
            ],
            borderWidth: 1
        }]
    };

    // Create bar chart
    var barChartCtx = document.getElementById('barChart').getContext('2d');
    var barChart = new Chart(barChartCtx, {
        type: 'bar',
        data: barChartData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // Create pie chart
    var pieChartCtx = document.getElementById('pieChart').getContext('2d');
    var pieChart = new Chart(pieChartCtx, {
        type: 'pie',
        data: pieChartData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                },
                title: {
                    display: true,
                    text: 'Revenue Distribution'
                }
            }
        }
    });
    /*]]>*/
</script>
</body>
</html>
