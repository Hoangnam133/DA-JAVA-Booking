<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout-User"
      layout:decorate="~{Fragments/Layout-User}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Bookings</title>

</head>
<body>
<section >
    <div class="container mt-5">
        <h2 class="mb-4">Your Bookings</h2>
        <div th:if="${Errors}">
            <div class="alert alert-danger" role="alert">
                <p th:text="${Errors}"></p>
            </div>
        </div>//
        <div class="row">
            <div th:if="${bookings != null}" class="col-12">
                <div class="card-columns">
                    <div th:each="booking : ${bookings}" class="card">
                        <div class="card-body">
                            <h5 class="card-title">Booking ID: <span th:text="${booking.bookingId}">Booking ID</span></h5>
                            <p class="card-text">Check-in Date: <span th:text="${booking.checkInDate}">Check-in Date</span></p>
                            <p class="card-text">Check-out Date: <span th:text="${booking.checkOutDate}">Check-out Date</span></p>
                            <p class="card-text">Total Price: $<span th:text="${booking.totalPrice}">Total Price</span></p>
                            <p class="card-text">Room: <span th:text="${booking.room.roomNumber}">Room</span></p>
                            <p class="card-text">
                            <p class="card-text">
                            <div th:if="${booking.checkInStatus}">
                                <span class="badge badge-success">Đã xác nhận</span>
                                <div th:if="${booking.paymentStatus}">
                                    <span class="badge badge-success">Đã thanh toán</span>
                                </div>
                                <div th:if="${!booking.paymentStatus}">
                                    <span class="badge badge-warning"><a th:href="@{'/payments/bookingDetail/' + ${booking.bookingId}}" class="btn btn-sm btn-success mb-1">PayPal</a></span>
                                </div>
                            </div>
                            <div th:if="${!booking.checkInStatus}">
                                <div th:if="${!booking.cancelStatus}">
                                    <span class="badge badge-secondary">  <a th:href="@{'/bookings/cancelBooking/' + ${booking.bookingId}}" class="btn btn-danger">Cancel Booking</a></span>
                                    <span class="badge badge-warning"><a th:href="@{'/payments/bookingDetail/' + ${booking.bookingId}}" class="btn btn-sm btn-success mb-1">PayPal</a></span>
                                </div>
                                <div th:if="${booking.cancelStatus}">
                                    <span class="badge badge-danger">Đã hủy</span>
                                    <p class="card-text">cancellation Reason : <span th:text="${booking.cancellationReason}">Reason</span></p>
                                </div>
>>>>>>> Nam05-07-2024
                            </div>
                        </div>
                        <div class="flex flex-col items-end justify-between">
                            <strong class="text-xl"> <strong class="text-xl " th:text="${booking.totalPrice}"></strong> VND</strong>
                            <div>
                                <span
                                        class="rounded-lg bg-green-600 px-[2.19rem] py-1 text-[1.125rem] font-semibold text-white" th:if="${booking.checkInStatus}">
                                    Đã xác nhận
                                </span>
                                <span
                                        class="rounded-lg bg-green-600 px-[2.19rem] py-1 text-[1.125rem] font-semibold text-white" th:if="${booking.paymentStatus}">
                                    Thanh toán thành công
                                </span>
                            </div>
                             <div th:if="${!booking.checkInStatus}">
                                <div th:if="${!booking.cancelStatus}"  class="flex items-center gap-6">
                                    <a th:href="@{'/payments/bookingDetail/' + ${booking.bookingId}}"
                                    ><img
                                            th:src="@{/static/hinhanh/pay-pal.png}"
                                            class="w-18 h-6 object-cover"
                                            alt=""
                                    />
                                    </a>
                                    <a
                                            href="#!"
                                            class="rounded-lg bg-red-500 px-[2.19rem] py-1 text-[1.125rem] font-semibold text-white"
                                    >Hủy đặt phòng</a
                                    >
                                </div>
                                 <div th:if="${booking.cancelStatus}">
                                     <span class="rounded-lg bg-green-600 px-[2.19rem] py-1 text-[1.125rem] font-semibold text-white">Đã hủy</span>
                                 </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </div>
</section>

</body>
</html>
